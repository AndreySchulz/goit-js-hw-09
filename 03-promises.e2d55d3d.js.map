{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,SAChCC,OAAQF,SAASC,cAAc,WAEjC,IAAIE,EAAc,GACdC,EAAa,GACbC,EAAe,GACfC,EAAiB,EA0BrB,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAS,CACbC,SAAUH,EACVI,MAAOH,GAETH,GAAkB,EAElB,MAAMO,EAAgBC,KAAKC,SAAW,GAYtC,OAXgB,IAAIC,SAAQ,CAACC,EAASC,KACpCC,YAAW,KACLN,EACJI,EAAQP,GAERQ,EAAOR,KAENP,MAKFiB,MAAK,EAACT,SAAEA,EAAQC,MAAEA,MACnBhB,EAAAyB,OAAOC,QAAQ,mDACbC,QAAMC,IAAI,uBAAqBb,QAAiBC,UAEjDa,OAAM,EAACd,SAAEA,EAAQC,MAAEA,MACnBhB,EAAAyB,OAAOK,QAAQ,sBAAoBf,QAAiBC,OACnDW,QAAMC,IAAI,sBAAoBb,QAAeC,UAjDnDd,EAAKC,QAAQ4B,iBAAiB,SAK9B,SAAwBC,GAEtB,OAAQA,EAAMC,OAAOC,MACnB,IAAK,QACH3B,GAAeyB,EAAMC,OAAOE,MAC5B,MACF,IAAK,OACH3B,GAAcwB,EAAMC,OAAOE,MAC3B,MACF,IAAK,SACH1B,GAAgBuB,EAAMC,OAAOE,UAdnCjC,EAAKI,OAAOyB,iBAAiB,SA4D7B,SAAoBC,GAClBA,EAAMI,iBAVR,SAAuBC,GACrB1B,EAAcD,EAAgBH,GAE9B,IAAK,IAAI+B,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChC/B,GAAcC,EACdG,EAAcD,EAAgBH,GAMhCgC,CAAc9B","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst refs = {\n  formRef: document.querySelector('.form'),\n  btnRef: document.querySelector('button'),\n};\nlet dalayHandle = '';\nlet stepHandle = '';\nlet amountHandle = '';\nlet positionHandle = 1\n\n\nrefs.formRef.addEventListener('input', onHanddleClick);\nrefs.btnRef.addEventListener('click', onBtnClick);\n\n\n\nfunction onHanddleClick(event) {\n\n  switch (event.target.name) {\n    case 'delay':\n      dalayHandle = +event.target.value;\n      break;\n    case 'step':  \n      stepHandle = +event.target.value;\n      break;\n    case 'amount':\n      amountHandle = +event.target.value;\n      break;\n    default:'';\n  }\n\n\n}\n\nfunction createPromise(position, delay) {\n  const object = {\n    position: position,\n    delay: delay,\n  }\n  positionHandle += 1;\n\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n      resolve(object)\n  } else {\n      reject(object)\n     }\n    }, dalayHandle) \n    \n    \n  })\n  return promise\n    .then(({ position, delay }) => {\n    Notify.success(\"`✅ Fulfilled promise ${position} in ${delay}ms`\")\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n    .catch(({ position, delay }) => {\n     Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\nfunction amountPromise(amount) {\n  createPromise(positionHandle, dalayHandle)\n  \n  for (let i = 1; i <= amount; i += 1) {\n    dalayHandle+= stepHandle\n    createPromise(positionHandle, dalayHandle)\n  }\n  \n}\nfunction onBtnClick(event) {\n  event.preventDefault()\n  amountPromise(amountHandle)\n\n \n\n}\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","formRef","document","querySelector","btnRef","$47d4ff9957288465$var$dalayHandle","$47d4ff9957288465$var$stepHandle","$47d4ff9957288465$var$amountHandle","$47d4ff9957288465$var$positionHandle","$47d4ff9957288465$var$createPromise","position1","delay1","object","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","then","Notify","success","console","log","catch","failure","addEventListener","event","target","name","value","preventDefault","amount","i","$47d4ff9957288465$var$amountPromise"],"version":3,"file":"03-promises.e2d55d3d.js.map"}